<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AJAX Request Example</title>
    <style>
        #results {
            margin-top: 20px;
        }
    </style>
    <script src="fetch-script.js" >  </script>
</head>
<body>
    <i><ul><div id="pathId" >  </div></ul></i>
<button id="fetchButton">Fetch Users</button>
<div id="results"></div>
<div id="results2"></div>
<div id="results3"></div>




<h1>Data from reqres.in API</h1>
<div id="data-container">
  <p>Loading...</p>
</div>

<script>

let path = 'https://reqres.in/api/unknown/2'
let pathDiv = document.getElementById("pathId")
pathDiv.innerText = "\n \n  The path is coming from  :  " + path 




    // Get the raw header string





    document.getElementById('fetchButton').addEventListener('click', function() {
        var xhr = new XMLHttpRequest(); // Create a new XMLHttpRequest object
        xhr.open('GET',path , true); // Setup the request

        xhr.onload = function() {
            if (xhr.status >= 200 && xhr.status < 300) {
                // Parse the JSON response
                var data = JSON.parse(xhr.responseText);
                var resultsDiv = document.getElementById('results');
                var resultsDiv2 = document.getElementById('results2');


                resultsDiv.innerHTML = ""; // Clear previous results

                // Display each user
           

                resultsDiv.innerText = xhr.response 
           resultsDiv2.innerText = " \n xhr.responseURL :  " + xhr.responseURL  

       


            } else {
                console.error('Request failed. Returned status of ' + xhr.status );
            }
        };

        xhr.onerror = function() {
            console.error('Request failed');
        };

        xhr.send(); // Send the request
    });








</script>

</body>
</html>